[@debridge-finance/dln-client](../README.md) / [Exports](../modules.md) / ClientImplementation

# Interface: ClientImplementation<Engine\>

## Type parameters

| Name | Type |
| :------ | :------ |
| `Engine` | extends [`ChainEngine`](../enums/ChainEngine.md) = [`ChainEngine`](../enums/ChainEngine.md) |

## Implemented by

- [`DlnClient`](../classes/Solana.DlnClient.md)
- [`DlnClient`](../classes/Evm.DlnClient.md)

## Table of contents

### Properties

- [addressLength](ClientImplementation.md#addresslength)
- [defaultLogger](ClientImplementation.md#defaultlogger)
- [nativeAddress](ClientImplementation.md#nativeaddress)
- [nativeCurrencyDecimals](ClientImplementation.md#nativecurrencydecimals)

### Methods

- [createOrder](ClientImplementation.md#createorder)
- [fromAddress](ClientImplementation.md#fromaddress)
- [fulfillOrder](ClientImplementation.md#fulfillorder)
- [getBalance](ClientImplementation.md#getbalance)
- [getClaimExecutionFee](ClientImplementation.md#getclaimexecutionfee)
- [getConnection](ClientImplementation.md#getconnection)
- [getCreateCost](ClientImplementation.md#getcreatecost)
- [getDecimals](ClientImplementation.md#getdecimals)
- [getEngine](ClientImplementation.md#getengine)
- [getFees](ClientImplementation.md#getfees)
- [getFinalGiveAmount](ClientImplementation.md#getfinalgiveamount)
- [getFinalTakeAmount](ClientImplementation.md#getfinaltakeamount)
- [getFulfillCost](ClientImplementation.md#getfulfillcost)
- [getGiveOrderState](ClientImplementation.md#getgiveorderstate)
- [getOrderFromTransaction](ClientImplementation.md#getorderfromtransaction)
- [getSendCancelCost](ClientImplementation.md#getsendcancelcost)
- [getSendUnlockCost](ClientImplementation.md#getsendunlockcost)
- [getTakeOrderState](ClientImplementation.md#gettakeorderstate)
- [getTokenInfo](ClientImplementation.md#gettokeninfo)
- [getWrappedNativeTokenAddress](ClientImplementation.md#getwrappednativetokenaddress)
- [parseAddress](ClientImplementation.md#parseaddress)
- [patchOrderGive](ClientImplementation.md#patchordergive)
- [patchOrderTake](ClientImplementation.md#patchordertake)
- [sendBatchUnlock](ClientImplementation.md#sendbatchunlock)
- [sendCancelOrder](ClientImplementation.md#sendcancelorder)
- [sendUnlockOrder](ClientImplementation.md#sendunlockorder)
- [setConnection](ClientImplementation.md#setconnection)
- [toAddress](ClientImplementation.md#toaddress)

## Properties

### addressLength

• `Readonly` **addressLength**: `number`

#### Defined in

[common/client.ts:344](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L344)

___

### defaultLogger

• `Readonly` **defaultLogger**: [`Logger`](../classes/Logger.md)

#### Defined in

[common/client.ts:348](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L348)

___

### nativeAddress

• `Readonly` **nativeAddress**: `Uint8Array`

#### Defined in

[common/client.ts:346](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L346)

___

### nativeCurrencyDecimals

• `Readonly` **nativeCurrencyDecimals**: `number`

#### Defined in

[common/client.ts:342](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L342)

## Methods

### createOrder

▸ **createOrder**(`params`, `payload`): `Promise`<`unknown`\>

Build transaction for order creation in `order.give.chainId` chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.affiliateFee?` | [`AbsoluteAffiliateFee`](AbsoluteAffiliateFee.md) | affiliate fee |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderWithoutNonce`](../modules.md#orderwithoutnonce) | order data without nonce |
| `params.referralCode` | `number` | ref code |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:41](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L41)

___

### fromAddress

▸ **fromAddress**(`address`): `unknown`

#### Parameters

| Name | Type |
| :------ | :------ |
| `address` | `Uint8Array` |

#### Returns

`unknown`

#### Defined in

[common/client.ts:332](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L332)

___

### fulfillOrder

▸ **fulfillOrder**(`params`, `payload`): `Promise`<`unknown`\>

Build transaction for order fulfillment

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to fulfill |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:57](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L57)

___

### getBalance

▸ **getBalance**(`chain`, `tokenAddress`, `wallet`): `Promise`<`bigint`\>

Get wallet balance

#### Parameters

| Name | Type |
| :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) |
| `tokenAddress` | `Uint8Array` |
| `wallet` | `Uint8Array` |

#### Returns

`Promise`<`bigint`\>

#### Defined in

[common/client.ts:161](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L161)

___

### getClaimExecutionFee

▸ **getClaimExecutionFee**(`params`, `payload`): `Promise`<[`ExecutionFeeInfo`](../modules.md#executionfeeinfo)\>

Get execution fee info for requested action

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.action` | ``"ClaimUnlock"`` \| ``"ClaimCancel"`` \| ``"ClaimBatchUnlock"`` | action to estimate |
| `params.batchSize?` | `number` | count of orders in batch. Will fail if action is "ClaimBatchUnlock" and batchSize is undefined |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | - |
| `params.giveNativePrice` | `number` | price of give native token in intermediary token |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) | - |
| `params.takeDecimals` | `number` | decimals of native take token |
| `params.takeNativePrice` | `number` | price of take native token in intermediary token |
| `params.takeToken` | `Uint8Array` | token that will be used to send deBridge message. At the moment - wrapped native take token |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<[`ExecutionFeeInfo`](../modules.md#executionfeeinfo)\>

#### Defined in

[common/client.ts:181](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L181)

___

### getConnection

▸ **getConnection**(`chain`): `unknown`

#### Parameters

| Name | Type |
| :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) |

#### Returns

`unknown`

#### Defined in

[common/client.ts:28](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L28)

___

### getCreateCost

▸ **getCreateCost**(`params`, `payload`): `Promise`<[`TransactionCostInNative`](../modules.md#transactioncostinnative)\>

Get cost of createOrder action in give chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | - |
| `params.inToken` | `Uint8Array` | - |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.outToken` | `Uint8Array` | - |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<[`TransactionCostInNative`](../modules.md#transactioncostinnative)\>

#### Defined in

[common/client.ts:201](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L201)

___

### getDecimals

▸ **getDecimals**(`chain`, `address`): `Promise`<`number`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) |
| `address` | `Uint8Array` |

#### Returns

`Promise`<`number`\>

#### Defined in

[common/client.ts:338](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L338)

___

### getEngine

▸ **getEngine**(): `Engine`

#### Returns

`Engine`

#### Defined in

[common/client.ts:26](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L26)

___

### getFees

▸ **getFees**(`chain`, `amount?`): `Promise`<`FeeInfo`\>

Get DLN fees from chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) | chain to get DLN fees for |
| `amount?` | `bigint` | amount to calculate transfer fee amount |

#### Returns

`Promise`<`FeeInfo`\>

#### Defined in

[common/client.ts:168](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L168)

___

### getFinalGiveAmount

▸ **getFinalGiveAmount**(`params`, `payload`): `Promise`<`bigint`\>

Get final order.give amount including give patches

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to retrieve final give amount for |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`bigint`\>

#### Defined in

[common/client.ts:262](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L262)

___

### getFinalTakeAmount

▸ **getFinalTakeAmount**(`params`, `payload`): `Promise`<`bigint`\>

Get final order.take amount including take patches

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to retrieve final take amount for |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`bigint`\>

#### Defined in

[common/client.ts:270](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L270)

___

### getFulfillCost

▸ **getFulfillCost**(`params`, `payload`): `Promise`<[`TransactionCostInNative`](../modules.md#transactioncostinnative)\>

Get cost of fulfill action in take chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.equivalentToken` | `Uint8Array` | - |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.orderTakeToken` | `Uint8Array` | - |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) | - |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<[`TransactionCostInNative`](../modules.md#transactioncostinnative)\>

#### Defined in

[common/client.ts:216](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L216)

___

### getGiveOrderState

▸ **getGiveOrderState**(`params`, `payload`): `Promise`<``null`` \| [`GiveOrderStatus`](../modules.md#giveorderstatus)\>

Get on-chain order status in give chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | - |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.orderId` | `string` \| `Uint8Array` | - |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<``null`` \| [`GiveOrderStatus`](../modules.md#giveorderstatus)\>

#### Defined in

[common/client.ts:315](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L315)

___

### getOrderFromTransaction

▸ **getOrderFromTransaction**(`params`, `payload`): `Promise`<``null`` \| [`OrderDataWithId`](OrderDataWithId.md) & [`OrderMeta`](../modules.md#ordermeta)\>

Extract order from create order transaction in give chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | order creation chain |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.txHash` | `string` | order creation transaction |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<``null`` \| [`OrderDataWithId`](OrderDataWithId.md) & [`OrderMeta`](../modules.md#ordermeta)\>

#### Defined in

[common/client.ts:305](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L305)

___

### getSendCancelCost

▸ **getSendCancelCost**(`params`, `payload`): `Promise`<[`DebridgeTransactionCost`](../modules.md#debridgetransactioncost)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | `Object` |
| `params.executionFee` | `bigint` |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) |
| `payload` | `object` |

#### Returns

`Promise`<[`DebridgeTransactionCost`](../modules.md#debridgetransactioncost)\>

#### Defined in

[common/client.ts:244](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L244)

___

### getSendUnlockCost

▸ **getSendUnlockCost**(`params`, `payload`): `Promise`<[`DebridgeTransactionCost`](../modules.md#debridgetransactioncost)\>

Get cost of send[batch]Unlock action in take chain (including execution fee)

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.batchSize` | `number` | count of orders in batch. If batchSize == 1 estimate sendUnlock cost else estimate sendBatchUnlock |
| `params.executionFee` | `bigint` | execution fee amount in take chain native token |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | - |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) | - |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<[`DebridgeTransactionCost`](../modules.md#debridgetransactioncost)\>

#### Defined in

[common/client.ts:233](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L233)

___

### getTakeOrderState

▸ **getTakeOrderState**(`params`, `payload`): `Promise`<``null`` \| [`TakeOrderStatus`](../modules.md#takeorderstatus)\>

Get on-chain order status in take chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.orderId` | `string` \| `Uint8Array` | - |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) | - |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<``null`` \| [`TakeOrderStatus`](../modules.md#takeorderstatus)\>

#### Defined in

[common/client.ts:325](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L325)

___

### getTokenInfo

▸ **getTokenInfo**(`chain`, `address`): `Promise`<[`TokenMetadata`](TokenMetadata.md)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) |
| `address` | `Uint8Array` |

#### Returns

`Promise`<[`TokenMetadata`](TokenMetadata.md)\>

#### Defined in

[common/client.ts:340](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L340)

___

### getWrappedNativeTokenAddress

▸ **getWrappedNativeTokenAddress**(`chain`): `Promise`<`Uint8Array`\>

Get wrapped native token address, e.g. weth for eth and wsol for solana

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) | chain to get wrapped token address |

#### Returns

`Promise`<`Uint8Array`\>

#### Defined in

[common/client.ts:354](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L354)

___

### parseAddress

▸ **parseAddress**(`address`): `Uint8Array`

#### Parameters

| Name | Type |
| :------ | :------ |
| `address` | `string` |

#### Returns

`Uint8Array`

#### Defined in

[common/client.ts:336](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L336)

___

### patchOrderGive

▸ **patchOrderGive**(`params`, `payload`): `Promise`<`unknown`\>

Build transaction to increase order give amount in give chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.amountToAdd` | `bigint` | amount to increase give offer by |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to patch |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:279](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L279)

___

### patchOrderTake

▸ **patchOrderTake**(`params`, `payload`): `Promise`<`unknown`\>

Build transaction to decrease order take amount in take chain

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.amountToSub` | `bigint` | amount to decrease take offer by |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to patch |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:291](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L291)

___

### sendBatchUnlock

▸ **sendBatchUnlock**(`params`, `payload`): `Promise`<`unknown`\>

Build sendBatchUnlock transaction to send unlock message for multiple orders via deBridge protocol

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.beneficiary` | `Uint8Array` | receiver of give part in give chain |
| `params.executionFee` | `bigint` | execution fee amount in take chain native token |
| `params.giveChain` | [`ChainId`](../enums/ChainId.md) | give chain id of provided orders |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.orderIds` | `string`[] | list of orders to batch unlock. Give & take chains must be equal |
| `params.takeChain` | [`ChainId`](../enums/ChainId.md) | take chain id of provided orders |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:100](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L100)

___

### sendCancelOrder

▸ **sendCancelOrder**(`params`, `payload`): `Promise`<`unknown`\>

Build sendCancel transaction to send cancel message for single order via deBridge protocol

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.cancelBeneficiary` | `Uint8Array` | beneficiary of cancel in give chain |
| `params.executionFee` | `bigint` | execution fee amount in take chain native token |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to cancel |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:67](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L67)

___

### sendUnlockOrder

▸ **sendUnlockOrder**(`params`, `payload`): `Promise`<`unknown`\>

Build sendUnlock transaction to send unlock message for single order via deBridge protocol

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `params` | `Object` | arguments shared between all clients |
| `params.beneficiary` | `Uint8Array` | receiver of give part in give chain |
| `params.executionFee` | `bigint` | execution fee amount in take chain native token |
| `params.loggerInstance?` | [`Logger`](../classes/Logger.md) | - |
| `params.order` | [`OrderDataWithId`](OrderDataWithId.md) | order to unlock |
| `payload` | `object` | chain-specific payload |

#### Returns

`Promise`<`unknown`\>

#### Defined in

[common/client.ts:80](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L80)

___

### setConnection

▸ **setConnection**(`chain`, `connection`): `void`

#### Parameters

| Name | Type |
| :------ | :------ |
| `chain` | [`ChainId`](../enums/ChainId.md) |
| `connection` | `unknown` |

#### Returns

`void`

#### Defined in

[common/client.ts:30](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L30)

___

### toAddress

▸ **toAddress**(`nativeAddress`): `Uint8Array`

#### Parameters

| Name | Type |
| :------ | :------ |
| `nativeAddress` | `unknown` |

#### Returns

`Uint8Array`

#### Defined in

[common/client.ts:334](https://github.com/debridge-finance/dln-ts-client/blob/dc0fd1b/src/common/client.ts#L334)
